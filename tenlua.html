<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EduSpace: Galaxy Explorer (Realistic Audio)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            --bg-color: #050505;
            --ui-bg: rgba(20, 30, 50, 0.95);
            --accent: #3498db;
            --gold: #f1c40f;
            --danger: #e74c3c;
            --success: #2ecc71;
            --text-color: #ecf0f1;
        }

        body {
            margin: 0; padding: 0;
            background: var(--bg-color);
            overflow: hidden;
            font-family: 'VT323', monospace;
            touch-action: none; 
            user-select: none;
            color: var(--text-color);
        }

        canvas { display: block; }

        /* UI */
        .ui-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            display: flex; flex-direction: column; justify-content: space-between;
            padding: 15px; box-sizing: border-box;
            z-index: 10;
        }

        .hud-bar {
            display: flex; justify-content: space-between; align-items: flex-start;
            pointer-events: auto;
            text-shadow: 2px 2px 0 #000;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--accent);
            padding: 10px 20px;
            font-size: 26px;
            border-radius: 12px;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.3);
        }
        
        .timer-box { color: var(--gold); font-size: 32px; font-weight: bold; }
        .timer-box.critical { color: var(--danger); animation: pulse 0.5s infinite; }

        /* Controls */
        .controls-area {
            display: flex; justify-content: space-between; align-items: flex-end;
            padding-bottom: 20px; pointer-events: auto; opacity: 0.8;
        }
        .dpad { position: relative; width: 160px; height: 160px; }
        .dbtn {
            position: absolute; width: 50px; height: 50px;
            background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3);
            display: flex; justify-content: center; align-items: center;
            font-size: 24px; cursor: pointer; border-radius: 10px;
            color: white;
        }
        .dbtn:active { background: rgba(255,255,255,0.4); transform: scale(0.95); }
        .d-up { top: 0; left: 55px; } .d-down { bottom: 0; left: 55px; }
        .d-left { top: 55px; left: 0; } .d-right { top: 55px; right: 0; }

        .boost-btn {
            width: 80px; height: 80px; border-radius: 50%;
            background: rgba(241, 196, 15, 0.2); border: 3px solid var(--gold);
            display: flex; justify-content: center; align-items: center;
            font-size: 20px; color: var(--gold); font-weight: bold;
            box-shadow: 0 0 20px rgba(241, 196, 15, 0.3);
        }
        .boost-btn:active { background: var(--gold); color: #000; }

        /* Modal */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100;
            display: none; justify-content: center; align-items: center;
        }
        .modal.active { display: flex; animation: zoomIn 0.3s; }

        .dialog-box {
            background: linear-gradient(135deg, #2c3e50, #000);
            border: 4px solid var(--accent);
            width: 95%; max-width: 700px; padding: 30px;
            text-align: center; border-radius: 20px;
            box-shadow: 0 0 50px rgba(52, 152, 219, 0.5);
            position: relative;
        }

        .planet-icon { font-size: 60px; margin-bottom: 10px; display: block; animation: float 3s infinite ease-in-out; }
        
        .question-progress {
            color: #bdc3c7; font-size: 20px; margin-bottom: 10px;
            text-transform: uppercase; letter-spacing: 2px;
        }

        .question-text { font-size: 28px; margin: 20px 0; line-height: 1.4; color: #fff; min-height: 80px; }
        
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        
        .ans-btn {
            background: #34495e; border: 2px solid #7f8c8d; color: #fff;
            padding: 15px; font-family: 'VT323', monospace; font-size: 24px;
            cursor: pointer; transition: 0.2s; border-radius: 8px;
        }
        .ans-btn:hover { background: var(--accent); border-color: #fff; }

        .ans-input {
            grid-column: 1 / -1; 
            background: #1a252f;
            border: 3px solid var(--gold);
            color: var(--gold);
            font-family: 'VT323', monospace;
            font-size: 35px;
            padding: 15px;
            text-align: center;
            text-transform: uppercase;
            outline: none;
            border-radius: 10px;
        }
        .submit-btn {
            grid-column: 1 / -1;
            background: var(--gold);
            color: #000;
            font-size: 30px;
            font-weight: bold;
            margin-top: 10px;
        }

        .start-btn {
            background: var(--success); color: #fff; font-size: 30px;
            padding: 15px 50px; border: none; border-radius: 50px;
            cursor: pointer; font-family: 'VT323', monospace;
            animation: pulseBtn 1.5s infinite;
        }

        #boss-notification {
            position: fixed; top: 30%; width: 100%; text-align: center;
            font-size: 60px; color: var(--danger);
            text-shadow: 0 0 20px red;
            font-weight: bold;
            display: none;
            z-index: 200;
            animation: flashText 0.5s infinite alternate;
            background: rgba(0,0,0,0.8);
            padding: 20px 0;
        }

        @keyframes zoomIn { from {transform: scale(0.8); opacity: 0;} to {transform: scale(1); opacity: 1;} }
        @keyframes pulse { 0% {opacity: 1;} 50% {opacity: 0.5;} 100% {opacity: 1;} }
        @keyframes pulseBtn { 0% {transform: scale(1); box-shadow: 0 0 0 rgba(46,204,113,0.7);} 70% {transform: scale(1.05); box-shadow: 0 0 20px rgba(46,204,113,0);} }
        @keyframes float { 0%,100% {transform: translateY(0);} 50% {transform: translateY(-15px);} }
        @keyframes flashText { from {opacity: 0.5;} to {opacity: 1;} }

    </style>
</head>
<body>

    <div id="game-container">
        <canvas id="gameCanvas"></canvas>

        <div class="ui-layer">
            <div class="hud-bar">
                <div class="stat-box">
                    ü™ê H√ÄNH TINH: <span id="conquered-count" style="color: var(--accent)">0</span>/8
                </div>
                <div class="stat-box timer-box" id="timer">05:00</div>
            </div>

            <div class="controls-area">
                <div class="dpad">
                    <div class="dbtn d-up">‚ñ≤</div>
                    <div class="dbtn d-down">‚ñº</div>
                    <div class="dbtn d-left">‚óÄ</div>
                    <div class="dbtn d-right">‚ñ∂</div>
                </div>
                <div class="boost-btn" id="btn-boost">T·ªêC ƒê·ªò</div>
            </div>
        </div>

        <div id="boss-notification">‚ö†Ô∏è M·∫∂T TR·ªúI & M·∫∂T TRƒÇNG ƒê√É XU·∫§T HI·ªÜN! ‚ö†Ô∏è</div>

        <div id="start-screen" class="modal active">
            <div class="dialog-box" style="border-color: var(--gold);">
                <h1 style="font-size: 70px; color: var(--gold); margin: 0;">THI√äN H√Ä R·ªòNG L·ªöN</h1>
                <p style="font-size: 24px; color: #ccc;">Nhi·ªám v·ª•: T√¨m ki·∫øm & Chinh ph·ª•c</p>
                <div style="text-align: left; background: rgba(255,255,255,0.1); padding: 20px; margin: 20px; border-radius: 10px; font-size: 20px;">
                    1. üõ∏ <b>L√°i T√†u:</b> V·ªã tr√≠ h√†nh tinh lu√¥n thay ƒë·ªïi! H√£y t√¨m ch√∫ng.<br>
                    2. ü™ê <b>Chinh Ph·ª•c:</b> Tr·∫£ l·ªùi ƒë√∫ng <b>5 c√¢u h·ªèi</b> m·ªói h√†nh tinh.<br>
                    3. ‚òÄÔ∏è <b>Boss Cu·ªëi:</b> Sau khi ƒë·ªß 8 h√†nh tinh, h√£y quay v·ªÅ TRUNG T√ÇM.<br>
                    4. ‚òÑÔ∏è <b>C·∫©n Th·∫≠n:</b> Thi√™n th·∫°ch d√†y ƒë·∫∑c h∆°n r·∫•t nhi·ªÅu!<br>
                    ‚è≥ <b>Th·ªùi Gian:</b> 5 Ph√∫t.
                </div>
                <button class="start-btn" onclick="startGame()">KH·ªûI H√ÄNH NGAY</button>
            </div>
        </div>

        <div id="quiz-modal" class="modal">
            <div class="dialog-box" id="quiz-box">
                <div class="planet-icon" id="q-icon">ü™ê</div>
                <h2 style="margin: 0; color: var(--accent);" id="q-planet-name">Sao H·ªèa</h2>
                <div class="question-progress">C√¢u h·ªèi: <span id="q-progress">1</span>/<span id="q-total">3</span></div>
                <div class="question-text" id="q-content">...</div>
                <div class="options-grid" id="q-options"></div>
            </div>
        </div>

        <div id="end-screen" class="modal">
            <div class="dialog-box">
                <h1 id="end-title" style="font-size: 60px;">TH√ÄNH C√îNG!</h1>
                <p id="end-msg" style="font-size: 28px;">B·∫°n l√† nh√† th√°m hi·ªÉm vƒ© ƒë·∫°i nh·∫•t!</p>
                <button class="ans-btn" style="width: 250px; background: var(--success); margin-top: 20px;" onclick="location.reload()">CH∆†I L·∫†I T·ª™ ƒê·∫¶U</button>
            </div>
        </div>
    </div>

<script>
// --- H·ªÜ TH·ªêNG √ÇM THANH N√ÇNG C·∫§P (Realistic Sound) ---
const SoundManager = {
    ctx: null,
    _noiseBuffer: null,

    init: function() {
        if (!this.ctx) {
            this.ctx = new (window.AudioContext || window.webkitAudioContext)();
            // T·∫°o s·∫µn buffer ti·∫øng ·ªìn (White Noise) ƒë·ªÉ d√πng chung
            const bufferSize = this.ctx.sampleRate * 2; // 2 gi√¢y buffer
            this._noiseBuffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
            const data = this._noiseBuffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) {
                data[i] = Math.random() * 2 - 1;
            }
        }
        if (this.ctx.state === 'suspended') {
            this.ctx.resume();
        }
    },

    // 1. Ti·∫øng ƒë·ªông c∆°: D√πng noise l·ªçc tr·∫ßm ƒë·ªÉ t·∫°o ti·∫øng "·∫ßm √¨" c·ªßa ph·∫£n l·ª±c
    playThrust: function() {
        if (!this.ctx || !this._noiseBuffer) return;
        
        const src = this.ctx.createBufferSource();
        src.buffer = this._noiseBuffer;
        src.loop = true;

        // B·ªô l·ªçc LowPass: Ch·ªâ gi·ªØ l·∫°i √¢m tr·∫ßm (d∆∞·ªõi 400Hz)
        const filter = this.ctx.createBiquadFilter();
        filter.type = 'lowpass';
        filter.frequency.setValueAtTime(400, this.ctx.currentTime);

        const gain = this.ctx.createGain();
        // Fade in nhanh v√† Fade out nhanh
        gain.gain.setValueAtTime(0.05, this.ctx.currentTime); // √Çm l∆∞·ª£ng v·ª´a ph·∫£i
        gain.gain.exponentialRampToValueAtTime(0.2, this.ctx.currentTime + 0.05);
        gain.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + 0.2);

        src.connect(filter);
        filter.connect(gain);
        gain.connect(this.ctx.destination);

        src.start();
        src.stop(this.ctx.currentTime + 0.2);
    },

    // 2. Ti·∫øng va ch·∫°m: K·∫øt h·ª£p ti·∫øng n·ªï (Impact) v√† ti·∫øng r·ªÅn (Sub-bass) -> "R·∫ßm r·∫ßm"
    playExplosion: function() {
        if (!this.ctx) return;
        const t = this.ctx.currentTime;

        // --- L·ªõp 1: Ti·∫øng n·ªï (Noise Impact) ---
        const noiseSrc = this.ctx.createBufferSource();
        noiseSrc.buffer = this._noiseBuffer;
        
        const noiseFilter = this.ctx.createBiquadFilter();
        noiseFilter.type = 'lowpass';
        // Qu√©t t·∫ßn s·ªë t·ª´ cao (1000Hz) xu·ªëng th·∫•p (50Hz) nhanh -> Hi·ªáu ·ª©ng "B√ôM"
        noiseFilter.frequency.setValueAtTime(1200, t);
        noiseFilter.frequency.exponentialRampToValueAtTime(50, t + 0.4);
        
        const noiseGain = this.ctx.createGain();
        noiseGain.gain.setValueAtTime(1.0, t); // √Çm l∆∞·ª£ng l·ªõn
        noiseGain.gain.exponentialRampToValueAtTime(0.01, t + 0.5);

        noiseSrc.connect(noiseFilter);
        noiseFilter.connect(noiseGain);
        noiseGain.connect(this.ctx.destination);
        noiseSrc.start();
        noiseSrc.stop(t + 0.5);

        // --- L·ªõp 2: Ti·∫øng r·ªÅn (Sub-bass Rumble) ---
        const osc = this.ctx.createOscillator();
        osc.type = 'sawtooth'; // S√≥ng rƒÉng c∆∞a cho ti·∫øng r·ªÅn
        osc.frequency.setValueAtTime(80, t); // 80Hz
        osc.frequency.exponentialRampToValueAtTime(10, t + 0.6); // H·∫° tone c·ª±c th·∫•p xu·ªëng 10Hz

        const oscGain = this.ctx.createGain();
        oscGain.gain.setValueAtTime(0.8, t);
        oscGain.gain.exponentialRampToValueAtTime(0.01, t + 0.6);

        osc.connect(oscGain);
        oscGain.connect(this.ctx.destination);
        osc.start();
        osc.stop(t + 0.6);
    },

    // 3. Ti·∫øng Boss xu·∫•t hi·ªán: C√≤i b√°o ƒë·ªông ma m·ªã
    playBossWarning: function() {
        if (!this.ctx) return;
        const t = this.ctx.currentTime;
        const osc = this.ctx.createOscillator();
        const gain = this.ctx.createGain();
        
        osc.type = 'square'; // S√≥ng vu√¥ng nghe g·∫Øt h∆°n
        // Hi·ªáu ·ª©ng Siren (c√≤i h√∫)
        osc.frequency.setValueAtTime(200, t);
        osc.frequency.linearRampToValueAtTime(600, t + 0.5);
        osc.frequency.linearRampToValueAtTime(200, t + 1.0);
        osc.frequency.linearRampToValueAtTime(600, t + 1.5);
        
        gain.gain.setValueAtTime(0.2, t);
        gain.gain.linearRampToValueAtTime(0, t + 2.0);

        osc.connect(gain);
        gain.connect(this.ctx.destination);
        osc.start();
        osc.stop(t + 2.0);
    },
    
    // 4. Tr·∫£ l·ªùi ƒë√∫ng: Ting ting (d√πng s√≥ng Sine trong tr·∫ªo)
    playCorrect: function() {
        if (!this.ctx) return;
        const t = this.ctx.currentTime;
        
        // Note 1
        const osc1 = this.ctx.createOscillator();
        const g1 = this.ctx.createGain();
        osc1.type = 'sine';
        osc1.frequency.setValueAtTime(880, t); // A5
        g1.gain.setValueAtTime(0.1, t);
        g1.gain.exponentialRampToValueAtTime(0.01, t + 0.1);
        osc1.connect(g1); g1.connect(this.ctx.destination);
        osc1.start(); osc1.stop(t + 0.1);

        // Note 2 (cao h∆°n)
        const osc2 = this.ctx.createOscillator();
        const g2 = this.ctx.createGain();
        osc2.type = 'sine';
        osc2.frequency.setValueAtTime(1760, t + 0.1); // A6
        g2.gain.setValueAtTime(0.1, t + 0.1);
        g2.gain.exponentialRampToValueAtTime(0.01, t + 0.4);
        osc2.connect(g2); g2.connect(this.ctx.destination);
        osc2.start(t + 0.1); osc2.stop(t + 0.4);
    },

    // 5. Tr·∫£ l·ªùi sai: Buzz (S√≥ng rƒÉng c∆∞a tr·∫ßm)
    playWrong: function() {
        if (!this.ctx) return;
        const osc = this.ctx.createOscillator();
        const gain = this.ctx.createGain();
        osc.type = 'sawtooth';
        osc.frequency.setValueAtTime(150, this.ctx.currentTime);
        osc.frequency.linearRampToValueAtTime(50, this.ctx.currentTime + 0.3); // H·∫° tone t·∫°o c·∫£m gi√°c th·∫•t v·ªçng
        gain.gain.setValueAtTime(0.2, this.ctx.currentTime);
        gain.gain.linearRampToValueAtTime(0.01, this.ctx.currentTime + 0.3);
        osc.connect(gain);
        gain.connect(this.ctx.destination);
        osc.start();
        osc.stop(this.ctx.currentTime + 0.3);
    }
};

// --- DATA C√ÇU H·ªéI (GI·ªÆ NGUY√äN) ---
const QUESTION_DB = [
    { s: "V·∫≠t L√≠", q: "T·ªëc ƒë·ªô √°nh s√°ng trong ch√¢n kh√¥ng l√† bao nhi√™u?", a: ["300.000 km/s", "340 m/s", "150.000 km/s", "3.000 km/s"], c: 0 },
    { s: "H√≥a H·ªçc", q: "N∆∞·ªõc (H2O) g·ªìm nh·ªØng nguy√™n t·ªë n√†o?", a: ["Hydro v√† Oxy", "Hydro v√† Cacbon", "Oxy v√† Nito", "Heli v√† Oxy"], c: 0 },
    { s: "Thi√™n VƒÉn", q: "H√†nh tinh n√†o g·∫ßn M·∫∑t Tr·ªùi nh·∫•t?", a: ["Sao Th·ªßy", "Sao Kim", "Tr√°i ƒê·∫•t", "Sao H·ªèa"], c: 0 },
    { s: "V·∫≠t L√≠", q: "ƒê·ªãnh lu·∫≠t b·∫£o to√†n nƒÉng l∆∞·ª£ng ph√°t bi·ªÉu g√¨?", a: ["NƒÉng l∆∞·ª£ng kh√¥ng t·ª± sinh ra", "NƒÉng l∆∞·ª£ng t·ª± sinh ra", "NƒÉng l∆∞·ª£ng bi·∫øn m·∫•t", "Kh√¥ng c√≥ ƒë√°p √°n"], c: 0 },
    { s: "H√≥a H·ªçc", q: "K√Ω hi·ªáu h√≥a h·ªçc c·ªßa V√†ng l√† g√¨?", a: ["Au", "Ag", "Fe", "Cu"], c: 0 },
    { s: "Sinh H·ªçc", q: "ADN n·∫±m ·ªü ƒë√¢u trong t·∫ø b√†o?", a: ["Nh√¢n t·∫ø b√†o", "M√†ng t·∫ø b√†o", "T·∫ø b√†o ch·∫•t", "L·ª•c l·∫°p"], c: 0 },
    { s: "V·∫≠t L√≠", q: "ƒê∆°n v·ªã ƒëo c∆∞·ªùng ƒë·ªô d√≤ng ƒëi·ªán l√† g√¨?", a: ["Ampe", "Volt", "Ohm", "Watt"], c: 0 },
    { s: "H√≥a H·ªçc", q: "pH = 7 l√† m√¥i tr∆∞·ªùng g√¨?", a: ["Trung t√≠nh", "Axit", "Bazo", "Mu·ªëi"], c: 0 },
    { s: "To√°n", q: "S·ªë Pi x·∫•p x·ªâ b·∫±ng bao nhi√™u?", a: ["3.14", "3.15", "3.12", "3.16"], c: 0 },
    { s: "To√°n", q: "CƒÉn b·∫≠c hai c·ªßa 144 l√†?", a: ["12", "14", "10", "16"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Chi·∫øn th·∫Øng B·∫°ch ƒê·∫±ng nƒÉm 938 do ai l√£nh ƒë·∫°o?", a: ["Ng√¥ Quy·ªÅn", "Tr·∫ßn H∆∞ng ƒê·∫°o", "L√Ω Th∆∞·ªùng Ki·ªát", "ƒêinh B·ªô Lƒ©nh"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Ch√¢u l·ª•c n√†o c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi?", a: ["Ch√¢u √Å", "Ch√¢u Phi", "Ch√¢u M·ªπ", "Ch√¢u √Çu"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "S√¥ng n√†o d√†i nh·∫•t th·∫ø gi·ªõi?", a: ["S√¥ng Nile", "S√¥ng Amazon", "S√¥ng M√™ K√¥ng", "S√¥ng D∆∞∆°ng T·ª≠"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "ƒê·ªânh n√∫i cao nh·∫•t Vi·ªát Nam l√†?", a: ["Fansipan", "Pu Si Lung", "Putaleng", "Ng·ªçc Linh"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Truy·ªán Ki·ªÅu l√† t√°c ph·∫©m c·ªßa ai?", a: ["Nguy·ªÖn Du", "Nguy·ªÖn Tr√£i", "H·ªì Xu√¢n H∆∞∆°ng", "Nguy·ªÖn Khuy·∫øn"], c: 0 },
    { s: "Ti·∫øng Anh", q: "Con 'M√®o' trong ti·∫øng Anh l√† g√¨?", a: ["Cat", "Dog", "Bird", "Fish"], c: 0 },
    { s: "Ti·∫øng Anh", q: "T·ª´ 'Library' nghƒ©a l√† g√¨?", a: ["Th∆∞ vi·ªán", "Nh√† s√°ch", "Tr∆∞·ªùng h·ªçc", "Ph√≤ng h·ªçc"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "CPU l√† vi·∫øt t·∫Øt c·ªßa g√¨?", a: ["Central Processing Unit", "Central Power Unit", "Computer Process Unit", "Control Power Unit"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "Ph√≠m t·∫Øt Copy l√† g√¨?", a: ["Ctrl + C", "Ctrl + V", "Ctrl + X", "Ctrl + Z"], c: 0 },
    { s: "Th·ªÉ Thao", q: "M√¥n th·ªÉ thao vua l√† m√¥n n√†o?", a: ["B√≥ng ƒë√°", "B√≥ng r·ªï", "B∆°i l·ªôi", "ƒêi·ªÅn kinh"], c: 0 },
    { s: "·∫®m Th·ª±c", q: "Ph·ªü l√† m√≥n ƒÉn ƒë·∫∑c tr∆∞ng c·ªßa n∆∞·ªõc n√†o?", a: ["Vi·ªát Nam", "Th√°i Lan", "Trung Qu·ªëc", "Nh·∫≠t B·∫£n"], c: 0 },
    { s: "Sinh H·ªçc", q: "L√° c√¢y c√≥ m√†u xanh l√† do ch·ª©a ch·∫•t g√¨?", a: ["Di·ªáp l·ª•c", "Xenlulozo", "Tinh b·ªôt", "Vitamin"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kh√≠ n√†o c·∫ßn thi·∫øt cho s·ª± ch√°y?", a: ["Oxy", "Nito", "Hidro", "Cacbonic"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th·ªß ƒë√¥ c·ªßa Vi·ªát Nam l√† g√¨?", a: ["H√† N·ªôi", "TP. H·ªì Ch√≠ Minh", "Hu·∫ø", "ƒê√† N·∫µng"], c: 0 },
    { s: "To√°n", q: "M·ªôt h√¨nh vu√¥ng c√≥ m·∫•y c·∫°nh b·∫±ng nhau?", a: ["4", "2", "3", "0"], c: 0 },
    { s: "V·∫≠t L√≠", q: "ƒê∆°n v·ªã ƒëo l·ª±c l√† g√¨?", a: ["Newton (N)", "Kg", "M√©t (m)", "L√≠t (l)"], c: 0 },
    { s: "H√≥a H·ªçc", q: "CTHH c·ªßa kh√≠ Cacbonic l√†?", a: ["CO2", "CO", "O2", "C2O"], c: 0 },
    { s: "Sinh H·ªçc", q: "Con ng∆∞·ªùi c√≥ bao nhi√™u ƒë√¥i nhi·ªÖm s·∫Øc th·ªÉ?", a: ["23", "24", "46", "22"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "D√£y n√∫i n√†o cao nh·∫•t th·∫ø gi·ªõi?", a: ["Himalaya", "Tr∆∞·ªùng S∆°n", "Andes", "Alps"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Th√°nh Gi√≥ng d√πng g√¨ ƒë·ªÉ ƒë√°nh gi·∫∑c?", a: ["Tre ng√†", "S√∫ng th·∫ßn c√¥ng", "N·ªè th·∫ßn", "G∆∞∆°m th·∫ßn"], c: 0 },
    { s: "To√°n", q: "K·∫øt qu·∫£ c·ªßa 10 chia 2 l√†?", a: ["5", "20", "12", "8"], c: 0 },
    { s: "V·∫≠t L√≠", q: "Nhi·ªát ƒë·ªô s√¥i c·ªßa n∆∞·ªõc l√†?", a: ["100 ƒë·ªô C", "0 ƒë·ªô C", "50 ƒë·ªô C", "37 ƒë·ªô C"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Mu·ªëi ƒÉn c√≥ v·ªã g√¨?", a: ["M·∫∑n", "Ng·ªçt", "Chua", "ƒê·∫Øng"], c: 0 },
    { s: "Sinh H·ªçc", q: "Tim ng∆∞·ªùi c√≥ m·∫•y ngƒÉn?", a: ["4", "2", "3", "5"], c: 0 },
    { s: "Ti·∫øng Anh", q: "Hello nghƒ©a l√† g√¨?", a: ["Xin ch√†o", "T·∫°m bi·ªát", "C·∫£m ∆°n", "Xin l·ªói"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "RAM l√† b·ªô nh·ªõ g√¨?", a: ["Truy c·∫≠p ng·∫´u nhi√™n", "Ch·ªâ ƒë·ªçc", "L∆∞u tr·ªØ d√†i h·∫°n", "·∫¢o"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "N∆∞·ªõc n√†o c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi?", a: ["Nga", "M·ªπ", "Trung Qu·ªëc", "Canada"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Chi·∫øn d·ªãch ƒêi·ªán Bi√™n Ph·ªß k·∫øt th√∫c nƒÉm n√†o?", a: ["1954", "1975", "1945", "1972"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Oxy chi·∫øm bao nhi√™u ph·∫ßn trƒÉm kh√¥ng kh√≠?", a: ["21%", "78%", "19%", "62%"], c: 0 },
    { s: "V·∫≠t L√≠", q: "L·ª±c h·∫•p d·∫´n gi√∫p ch√∫ng ta l√†m g√¨?", a: ["ƒê·ª©ng tr√™n m·∫∑t ƒë·∫•t", "Bay l√™n tr·ªùi", "B∆°i l·ªôi", "Kh√¥ng t√°c d·ª•ng"], c: 0 },
    { s: "Sinh H·ªçc", q: "Vitamin A t·ªët cho b·ªô ph·∫≠n n√†o?", a: ["M·∫Øt", "X∆∞∆°ng", "Da", "Tim"], c: 0 },
    { s: "V·∫≠t L√≠", q: "Khi g·∫∑p l·∫°nh, n∆∞·ªõc s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i n√†o?", a: ["R·∫Øn (ƒê√°)", "L·ªèng", "Kh√≠", "Plasma"], c: 0 },
    { s: "V·∫≠t L√≠", q: "Nam ch√¢m h√∫t kim lo·∫°i n√†o m·∫°nh nh·∫•t?", a: ["S·∫Øt", "Nh√¥m", "ƒê·ªìng", "V√†ng"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kh√≠ n√†o nh·∫π nh·∫•t trong c√°c kh√≠ sau?", a: ["Hidro", "Oxy", "Cacbonic", "Nito"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kim c∆∞∆°ng ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ nguy√™n t·ªë n√†o?", a: ["Cacbon", "S·∫Øt", "V√†ng", "Silic"], c: 0 },
    { s: "Sinh H·ªçc", q: "Con v·∫≠t n√†o sau ƒë√¢y ƒë·∫ª tr·ª©ng?", a: ["G√†", "Ch√≥", "M√®o", "L·ª£n"], c: 0 },
    { s: "Sinh H·ªçc", q: "B·ªô ph·∫≠n n√†o tr√™n c∆° th·ªÉ ng∆∞·ªùi d√πng ƒë·ªÉ l·ªçc m√°u?", a: ["Th·∫≠n", "Tim", "D·∫° d√†y", "Ph·ªïi"], c: 0 },
    { s: "Thi√™n VƒÉn", q: "H√†nh tinh n√†o l·ªõn nh·∫•t trong H·ªá M·∫∑t Tr·ªùi?", a: ["Sao M·ªôc", "Sao Th·ªï", "Tr√°i ƒê·∫•t", "Sao H·ªèa"], c: 0 },
    { s: "Thi√™n VƒÉn", q: "M·∫∑t TrƒÉng l√† g√¨ c·ªßa Tr√°i ƒê·∫•t?", a: ["V·ªá tinh t·ª± nhi√™n", "H√†nh tinh", "Ng√¥i sao", "Thi√™n th·∫°ch"], c: 0 },
    { s: "To√°n", q: "M·ªôt gi·ªù c√≥ bao nhi√™u ph√∫t?", a: ["60 ph√∫t", "100 ph√∫t", "24 ph√∫t", "30 ph√∫t"], c: 0 },
    { s: "To√°n", q: "H√¨nh tr√≤n c√≥ bao nhi√™u c·∫°nh?", a: ["0", "1", "2", "V√¥ s·ªë"], c: 0 },
    { s: "To√°n", q: "K·∫øt qu·∫£ c·ªßa ph√©p t√≠nh 7 x 8 l√†?", a: ["56", "48", "64", "54"], c: 0 },
    { s: "To√°n", q: "G√≥c vu√¥ng c√≥ s·ªë ƒëo l√† bao nhi√™u ƒë·ªô?", a: ["90 ƒë·ªô", "60 ƒë·ªô", "180 ƒë·ªô", "45 ƒë·ªô"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "V·ªã vua n√†o d·ªùi ƒë√¥ v·ªÅ ThƒÉng Long nƒÉm 1010?", a: ["L√Ω Th√°i T·ªï", "ƒêinh Ti√™n Ho√†ng", "L√™ L·ª£i", "Tr·∫ßn H∆∞ng ƒê·∫°o"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Hai B√† Tr∆∞ng c∆∞·ª°i con v·∫≠t g√¨ ra tr·∫≠n?", a: ["Voi", "Ng·ª±a", "Tr√¢u", "H·ªï"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "T√™n n∆∞·ªõc Vi·ªát Nam c√≥ t·ª´ th·ªùi vua n√†o?", a: ["Gia Long", "Minh M·∫°ng", "B·∫£o ƒê·∫°i", "Quang Trung"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Vi·ªát Nam c√≥ h√¨nh d·∫°ng ch·ªØ c√°i g√¨?", a: ["Ch·ªØ S", "Ch·ªØ I", "Ch·ªØ O", "Ch·ªØ U"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "ƒê·∫°i d∆∞∆°ng n√†o nh·ªè nh·∫•t th·∫ø gi·ªõi?", a: ["B·∫Øc BƒÉng D∆∞∆°ng", "·∫§n ƒê·ªô D∆∞∆°ng", "ƒê·∫°i T√¢y D∆∞∆°ng", "Th√°i B√¨nh D∆∞∆°ng"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th√†nh ph·ªë n√†o ƒë∆∞·ª£c m·ªánh danh l√† Th√†nh ph·ªë Hoa ph∆∞·ª£ng ƒë·ªè?", a: ["H·∫£i Ph√≤ng", "ƒê√† N·∫µng", "C·∫ßn Th∆°", "Hu·∫ø"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "T√°c gi·∫£ c·ªßa t√°c ph·∫©m 'D·∫ø M√®n phi√™u l∆∞u k√Ω' l√† ai?", a: ["T√¥ Ho√†i", "Nam Cao", "Xu√¢n Di·ªáu", "Th·∫°ch Lam"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Trong truy·ªán T·∫•m C√°m, T·∫•m nu√¥i con c√° g√¨?", a: ["C√° B·ªëng", "C√° Ch√©p", "C√° V√†ng", "C√° R√¥"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Ai l√† ng∆∞·ªùi s√°ng t√°c b√†i 'Ti·∫øn qu√¢n ca' (Qu·ªëc ca)?", a: ["VƒÉn Cao", "Ph·∫°m Tuy√™n", "Tr·ªãnh C√¥ng S∆°n", "Ho√†ng Vi·ªát"], c: 0 },
    { s: "GDCD", q: "C√¥ng d√¢n Vi·ªát Nam ƒë·ªß bao nhi√™u tu·ªïi ƒë∆∞·ª£c quy·ªÅn b·∫ßu c·ª≠?", a: ["18 tu·ªïi", "16 tu·ªïi", "20 tu·ªïi", "21 tu·ªïi"], c: 0 },
    { s: "GDCD", q: "S·ªë ƒëi·ªán tho·∫°i kh·∫©n c·∫•p c·ªßa C·∫£nh s√°t l√† g√¨?", a: ["113", "114", "115", "111"], c: 0 },
    { s: "Ti·∫øng Anh", q: "T·ª´ 'Apple' trong ti·∫øng Vi·ªát nghƒ©a l√† g√¨?", a: ["Qu·∫£ t√°o", "Qu·∫£ cam", "Qu·∫£ chu·ªëi", "Qu·∫£ d∆∞a"], c: 0 },
    { s: "Ti·∫øng Anh", q: "S·ªë 20 trong ti·∫øng Anh vi·∫øt l√† g√¨?", a: ["Twenty", "Twelve", "Two", "Ten"], c: 0 },
    { s: "Ti·∫øng Anh", q: "T·ª´ n√†o tr√°i nghƒ©a v·ªõi 'Big' (To)?", a: ["Small", "Tall", "Long", "Fat"], c: 0 },
    { s: "Ti·∫øng Anh", q: "'Good morning' ƒë∆∞·ª£c d√πng ƒë·ªÉ ch√†o v√†o l√∫c n√†o?", a: ["Bu·ªïi s√°ng", "Bu·ªïi chi·ªÅu", "Bu·ªïi t·ªëi", "Ban ƒë√™m"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "Thi·∫øt b·ªã n√†o d√πng ƒë·ªÉ nh·∫≠p k√Ω t·ª± v√†o m√°y t√≠nh?", a: ["B√†n ph√≠m", "M√†n h√¨nh", "Loa", "M√°y in"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "H·ªá ƒëi·ªÅu h√†nh ph·ªï bi·∫øn tr√™n m√°y t√≠nh l√† g√¨?", a: ["Windows", "Android", "iOS", "Java"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "Ph√≠m t·∫Øt ƒë·ªÉ 'D√°n' (Paste) l√† g√¨?", a: ["Ctrl + V", "Ctrl + C", "Ctrl + P", "Ctrl + S"], c: 0 },
    { s: "Th·ªÉ Thao", q: "Trong b√≥ng ƒë√°, m·ªói ƒë·ªôi c√≥ bao nhi√™u c·∫ßu th·ªß tr√™n s√¢n?", a: ["11", "7", "5", "12"], c: 0 },
    { s: "Th·ªÉ Thao", q: "M√¥n th·ªÉ thao n√†o s·ª≠ d·ª•ng v·ª£t v√† qu·∫£ c·∫ßu?", a: ["C·∫ßu l√¥ng", "B√≥ng b√†n", "Tennis", "B√≥ng chuy·ªÅn"], c: 0 },
    { s: "√Çm Nh·∫°c", q: "ƒê√†n Piano c√≥ c√°c ph√≠m m√†u g√¨?", a: ["Tr·∫Øng v√† ƒêen", "ƒê·ªè v√† V√†ng", "Xanh v√† Tr·∫Øng", "N√¢u v√† ƒêen"], c: 0 },
    { s: "·∫®m Th·ª±c", q: "M√≥n kim chi l√† ƒë·∫∑c s·∫£n c·ªßa n∆∞·ªõc n√†o?", a: ["H√†n Qu·ªëc", "Nh·∫≠t B·∫£n", "Trung Qu·ªëc", "Th√°i Lan"], c: 0 },
    { s: "·∫®m Th·ª±c", q: "Nguy√™n li·ªáu ch√≠nh ƒë·ªÉ l√†m b√°nh ch∆∞ng l√† g√¨?", a: ["G·∫°o n·∫øp", "G·∫°o t·∫ª", "B·ªôt m√¨", "Khoai t√¢y"], c: 0 },
    { s: "Sinh H·ªçc", q: "C√¢y x∆∞∆°ng r·ªìng th∆∞·ªùng s·ªëng ·ªü ƒë√¢u?", a: ["Sa m·∫°c", "R·ª´ng m∆∞a", "ƒê·∫ßm l·∫ßy", "B·∫Øc c·ª±c"], c: 0 },
    { s: "Sinh H·ªçc", q: "Con v·∫≠t n√†o ƒë∆∞·ª£c g·ªçi l√† 'Ch√∫a s∆°n l√¢m'?", a: ["H·ªï", "S∆∞ t·ª≠", "G·∫•u", "B√°o"], c: 0 },
    { s: "V·∫≠t L√≠", q: "D·ª•ng c·ª• n√†o d√πng ƒë·ªÉ ƒëo nhi·ªát ƒë·ªô?", a: ["Nhi·ªát k·∫ø", "Th∆∞·ªõc k·∫ª", "C√¢n", "ƒê·ªìng h·ªì"], c: 0 },
    { s: "H√≥a H·ªçc", q: "S·∫Øt c√≥ k√Ω hi·ªáu h√≥a h·ªçc l√† g√¨?", a: ["Fe", "Cu", "Zn", "Al"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th·ªß ƒë√¥ c·ªßa n∆∞·ªõc Ph√°p l√† g√¨?", a: ["Paris", "London", "Berlin", "Rome"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "N∆∞·ªõc n√†o c√≥ d√¢n s·ªë ƒë√¥ng nh·∫•t th·∫ø gi·ªõi (nƒÉm 2023)?", a: ["·∫§n ƒê·ªô", "Trung Qu·ªëc", "M·ªπ", "Nga"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Chi·∫øn th·∫Øng ƒêi·ªán Bi√™n Ph·ªß tr√™n kh√¥ng di·ªÖn ra nƒÉm n√†o?", a: ["1972", "1954", "1968", "1975"], c: 0 },
    { s: "To√°n", q: "S·ªë t·ª± nhi√™n nh·ªè nh·∫•t l√† s·ªë m·∫•y?", a: ["0", "1", "2", "-1"], c: 0 },
    { s: "To√°n", q: "H√¨nh tam gi√°c ƒë·ªÅu c√≥ m·∫•y c·∫°nh b·∫±ng nhau?", a: ["3", "2", "0", "4"], c: 0 },
    { s: "GDCD", q: "Khi ƒëi xe m√°y b·∫Øt bu·ªôc ph·∫£i ƒë·ªôi g√¨?", a: ["M≈© b·∫£o hi·ªÉm", "M≈© l∆∞·ª°i trai", "N√≥n l√°", "Kh√¥ng c·∫ßn ƒë·ªôi"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Truy·ªán 'Doraemon' xu·∫•t x·ª© t·ª´ n∆∞·ªõc n√†o?", a: ["Nh·∫≠t B·∫£n", "H√†n Qu·ªëc", "M·ªπ", "Vi·ªát Nam"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "WWW l√† vi·∫øt t·∫Øt c·ªßa t·ª´ g√¨?", a: ["World Wide Web", "World Web Wide", "Wide World Web", "Web World Wide"], c: 0 },
    { s: "Th·ªÉ Thao", q: "SEA Games l√† ƒë·∫°i h·ªôi th·ªÉ thao khu v·ª±c n√†o?", a: ["ƒê√¥ng Nam √Å", "Ch√¢u √Å", "Ch√¢u √Çu", "Th·∫ø gi·ªõi"], c: 0 },
    { s: "√Çm Nh·∫°c", q: "B√†i h√°t 'Em l√† b√¥ng h·ªìng nh·ªè' do ai s√°ng t√°c?", a: ["Tr·ªãnh C√¥ng S∆°n", "Ph·∫°m Tuy√™n", "Phong Nh√£", "L∆∞u H·ªØu Ph∆∞·ªõc"], c: 0 },
    { s: "Thi√™n VƒÉn", q: "M·∫∑t Tr·ªùi l√† m·ªôt...", a: ["Ng√¥i sao", "H√†nh tinh", "V·ªá tinh", "Thi√™n th·∫°ch"], c: 0 }, 
    // ... (N·ªëi ti·∫øp v√†o m·∫£ng c≈© c·ªßa b·∫°n) ...

    // --- L·ªäCH S·ª¨ M·ªû R·ªòNG ---
    { s: "L·ªãch S·ª≠", q: "Chi·∫øn th·∫Øng ƒêi·ªán Bi√™n Ph·ªß 'l·ª´ng l·∫´y nƒÉm ch√¢u' di·ªÖn ra v√†o nƒÉm n√†o?", a: ["1954", "1945", "1975", "1972"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "V·ªã vua n√†o ƒë√£ d·ªùi ƒë√¥ t·ª´ Hoa L∆∞ v·ªÅ ThƒÉng Long?", a: ["L√Ω Th√°i T·ªï", "L√Ω C√¥ng U·∫©n", "ƒêinh Ti√™n Ho√†ng", "L√™ ƒê·∫°i H√†nh"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Ai l√† ng∆∞·ªùi s√°ng l·∫≠p ra ƒê·∫£ng C·ªông s·∫£n Vi·ªát Nam?", a: ["H·ªì Ch√≠ Minh", "Tr·∫ßn Ph√∫", "L√™ H·ªìng Phong", "H√† Huy T·∫≠p"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "V·∫°n L√Ω Tr∆∞·ªùng Th√†nh n·∫±m ·ªü qu·ªëc gia n√†o?", a: ["Trung Qu·ªëc", "M√¥ng C·ªï", "H√†n Qu·ªëc", "Nh·∫≠t B·∫£n"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "T·ªïng th·ªëng ƒë·∫ßu ti√™n c·ªßa H·ª£p ch√∫ng qu·ªëc Hoa K·ª≥ l√† ai?", a: ["George Washington", "Abraham Lincoln", "Thomas Jefferson", "John Adams"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "N·ªØ t∆∞·ªõng n√†o c∆∞·ª°i voi ra tr·∫≠n ƒë√°nh ƒëu·ªïi qu√¢n ƒê√¥ng Ng√¥?", a: ["B√† Tri·ªáu", "Tr∆∞ng Tr·∫Øc", "Tr∆∞ng Nh·ªã", "B√πi Th·ªã Xu√¢n"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Tri·ªÅu ƒë·∫°i n√†o t·ªìn t·∫°i l√¢u nh·∫•t trong l·ªãch s·ª≠ phong ki·∫øn Vi·ªát Nam?", a: ["Nh√† H·∫≠u L√™", "Nh√† L√Ω", "Nh√† Tr·∫ßn", "Nh√† Nguy·ªÖn"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Kim T·ª± Th√°p l√† c√¥ng tr√¨nh ki·∫øn tr√∫c n·ªïi ti·∫øng c·ªßa n∆∞·ªõc n√†o?", a: ["Ai C·∫≠p", "Hy L·∫°p", "·∫§n ƒê·ªô", "Mexico"], c: 0 },

    // --- ƒê·ªäA L√ù M·ªû R·ªòNG ---
    { s: "ƒê·ªãa L√≠", q: "Ch√¢u l·ª•c n√†o l·∫°nh nh·∫•t th·∫ø gi·ªõi?", a: ["Ch√¢u Nam C·ª±c", "Ch√¢u B·∫Øc C·ª±c", "Ch√¢u √Çu", "Ch√¢u √Å"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th·ªß ƒë√¥ c·ªßa Th√°i Lan l√† g√¨?", a: ["Bangkok", "Phnom Penh", "Vientiane", "Jakarta"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "ƒê·ªânh n√∫i n√†o cao nh·∫•t th·∫ø gi·ªõi?", a: ["Everest", "K2", "Ph√∫ Sƒ©", "Fansipan"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Vi·ªát Nam n·∫±m trong ƒë·ªõi kh√≠ h·∫≠u n√†o?", a: ["Nhi·ªát ƒë·ªõi gi√≥ m√πa", "√în ƒë·ªõi", "H√†n ƒë·ªõi", "C·∫≠n nhi·ªát ƒë·ªõi"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "ƒê·∫°i d∆∞∆°ng n√†o l·ªõn nh·∫•t th·∫ø gi·ªõi?", a: ["Th√°i B√¨nh D∆∞∆°ng", "ƒê·∫°i T√¢y D∆∞∆°ng", "·∫§n ƒê·ªô D∆∞∆°ng", "B·∫Øc BƒÉng D∆∞∆°ng"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th√†nh ph·ªë n√†o ƒë∆∞·ª£c m·ªánh danh l√† 'Th√†nh ph·ªë c·ªßa nh·ªØng c√¢y c·∫ßu' ·ªü Vi·ªát Nam?", a: ["ƒê√† N·∫µng", "Hu·∫ø", "H·ªôi An", "C·∫ßn Th∆°"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Qu·ªëc gia n√†o c√≥ h√¨nh d√°ng gi·ªëng chi·∫øc ·ªßng?", a: ["√ù (Italy)", "Ph√°p", "Anh", "T√¢y Ban Nha"], c: 0 },

    // --- KHOA H·ªåC (L√Ω - H√≥a - Sinh) ---
    { s: "Sinh H·ªçc", q: "C∆° th·ªÉ ng∆∞·ªùi tr∆∞·ªüng th√†nh c√≥ bao nhi√™u chi·∫øc x∆∞∆°ng?", a: ["206", "208", "300", "150"], c: 0 },
    { s: "Sinh H·ªçc", q: "Lo√†i v·∫≠t n√†o sau ƒë√¢y l√† ƒë·ªông v·∫≠t c√≥ v√∫ bi·∫øt bay?", a: ["D∆°i", "S√≥c bay", "Chim ƒë·∫°i b√†ng", "ƒê√† ƒëi·ªÉu"], c: 0 },
    { s: "Sinh H·ªçc", q: "C√¢y xanh quang h·ª£p nh·∫£ ra kh√≠ g√¨?", a: ["Oxy", "Cacbonic", "Nit∆°", "Hydro"], c: 0 },
    { s: "H√≥a H·ªçc", q: "C√¥ng th·ª©c h√≥a h·ªçc c·ªßa mu·ªëi ƒÉn l√† g√¨?", a: ["NaCl", "KCl", "NaOH", "HCl"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kh√≠ n√†o c·∫ßn thi·∫øt nh·∫•t cho s·ª± ch√°y?", a: ["Oxy", "Hydro", "Nit∆°", "Cacbonic"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kim lo·∫°i n√†o duy nh·∫•t ·ªü th·ªÉ l·ªèng ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng?", a: ["Th·ªßy ng√¢n", "V√†ng", "B·∫°c", "Ch√¨"], c: 0 },
    { s: "V·∫≠t L√≠", q: "V·∫≠n t·ªëc √°nh s√°ng trong ch√¢n kh√¥ng l√† bao nhi√™u?", a: ["300.000 km/s", "150.000 km/s", "340 m/s", "1.000 km/h"], c: 0 },
    { s: "V·∫≠t L√≠", q: "L·ª±c n√†o gi·ªØ ch√∫ng ta ƒë·ª©ng ƒë∆∞·ª£c tr√™n m·∫∑t ƒë·∫•t?", a: ["L·ª±c h·∫•p d·∫´n", "L·ª±c ma s√°t", "L·ª±c ƒë·∫©y Archimedes", "L·ª±c ƒë√†n h·ªìi"], c: 0 },
    { s: "V·∫≠t L√≠", q: "N∆∞·ªõc s√¥i ·ªü bao nhi√™u ƒë·ªô C (·ªü √°p su·∫•t ti√™u chu·∫©n)?", a: ["100 ƒë·ªô C", "90 ƒë·ªô C", "110 ƒë·ªô C", "80 ƒë·ªô C"], c: 0 },

    // --- VƒÇN H·ªåC & NGH·ªÜ THU·∫¨T ---
    { s: "VƒÉn H·ªçc", q: "Ai l√† t√°c gi·∫£ c·ªßa 'D·∫ø M√®n phi√™u l∆∞u k√Ω'?", a: ["T√¥ Ho√†i", "Nam Cao", "Xu√¢n Di·ªáu", "Huy C·∫≠n"], c: 0 },
    { s: "VƒÉn H·ªçc", q: "Truy·ªán Ki·ªÅu c√≥ bao nhi√™u c√¢u th∆° l·ª•c b√°t?", a: ["3254", "3250", "2354", "3524"], c: 0 },
    { s: "√Çm Nh·∫°c", q: "Nh√≥m nh·∫°c BTS ƒë·∫øn t·ª´ qu·ªëc gia n√†o?", a: ["H√†n Qu·ªëc", "Nh·∫≠t B·∫£n", "Trung Qu·ªëc", "Th√°i Lan"], c: 0 },
    { s: "√Çm Nh·∫°c", q: "Ai l√† '√îng ho√†ng nh·∫°c Pop'?", a: ["Michael Jackson", "Elvis Presley", "Justin Bieber", "Bruno Mars"], c: 0 },
    { s: "Ngh·ªá Thu·∫≠t", q: "M√¥n ngh·ªá thu·∫≠t th·ª© 7 l√† t√™n g·ªçi kh√°c c·ªßa?", a: ["ƒêi·ªán ·∫£nh", "H·ªôi h·ªça", "ƒêi√™u kh·∫Øc", "M√∫a"], c: 0 },

    // --- C√îNG NGH·ªÜ & ƒê·ªúI S·ªêNG ---
    { s: "C√¥ng Ngh·ªá", q: "M·∫°ng x√£ h·ªôi l·ªõn nh·∫•t th·∫ø gi·ªõi hi·ªán nay l√†?", a: ["Facebook", "Twitter", "Instagram", "TikTok"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "CEO c·ªßa Tesla v√† SpaceX l√† ai?", a: ["Elon Musk", "Jeff Bezos", "Bill Gates", "Mark Zuckerberg"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "Ph√≠m t·∫Øt Ctrl + C d√πng ƒë·ªÉ l√†m g√¨?", a: ["Sao ch√©p", "D√°n", "C·∫Øt", "L∆∞u"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "H·ªá ƒëi·ªÅu h√†nh Android do c√¥ng ty n√†o ph√°t tri·ªÉn?", a: ["Google", "Apple", "Microsoft", "Samsung"], c: 0 },
    { s: "ƒê·ªùi S·ªëng", q: "M√≥n ƒÉn n√†o n·ªïi ti·∫øng nh·∫•t c·ªßa Vi·ªát Nam tr√™n th·∫ø gi·ªõi?", a: ["Ph·ªü", "B√∫n ch·∫£", "B√°nh m√¨", "G·ªèi cu·ªën"], c: 0 },
    { s: "ƒê·ªùi S·ªëng", q: "Bi·ªÉn b√°o giao th√¥ng h√¨nh tr√≤n, vi·ªÅn ƒë·ªè, n·ªÅn tr·∫Øng d√πng ƒë·ªÉ l√†m g√¨?", a: ["C·∫•m", "Nguy hi·ªÉm", "Hi·ªáu l·ªánh", "Ch·ªâ d·∫´n"], c: 0 },

    // --- TO√ÅN H·ªåC & T∆Ø DUY ---
    { s: "To√°n", q: "M·ªôt t√° g·ªìm bao nhi√™u ƒë∆°n v·ªã?", a: ["12", "10", "20", "24"], c: 0 },
    { s: "To√°n", q: "H√¨nh tr√≤n c√≥ bao nhi√™u c·∫°nh?", a: ["0", "1", "2", "V√¥ s·ªë"], c: 0 },
    { s: "To√°n", q: "S·ªë nguy√™n t·ªë nh·ªè nh·∫•t l√† s·ªë m·∫•y?", a: ["2", "1", "3", "0"], c: 0 },
    { s: "IQ", q: "C√°i g√¨ c√†ng r·ª≠a c√†ng b·∫©n?", a: ["N∆∞·ªõc", "Qu·∫ßn √°o", "B√°t ƒëƒ©a", "Tay ch√¢n"], c: 0 },
    { s: "IQ", q: "Th√°ng n√†o ng·∫Øn nh·∫•t trong nƒÉm?", a: ["Th√°ng 2", "Th√°ng 12", "Th√°ng 1", "Th√°ng 6"], c: 0 },

    // --- TI·∫æNG ANH ---
    { s: "Ti·∫øng Anh", q: "T·ª´ 'Apple' nghƒ©a l√† qu·∫£ g√¨?", a: ["T√°o", "Cam", "Chu·ªëi", "Nho"], c: 0 },
    { s: "Ti·∫øng Anh", q: "M√†u 'Blue' l√† m√†u g√¨?", a: ["Xanh d∆∞∆°ng", "Xanh l√°", "ƒê·ªè", "V√†ng"], c: 0 },
    { s: "Ti·∫øng Anh", q: "ƒê·ªông t·ª´ 'Go' ·ªü th√¨ qu√° kh·ª© ƒë∆°n l√†?", a: ["Went", "Gone", "Goes", "Going"], c: 0 },
    { s: "Ti·∫øng Anh", q: "'Mother' nghƒ©a l√† ai?", a: ["M·∫π", "B·ªë", "Anh trai", "Ch·ªã g√°i"], c: 0 },
    { s: "Ti·∫øng Anh", q: "Th·ªß ƒë√¥ c·ªßa n∆∞·ªõc Anh (United Kingdom) l√†?", a: ["London", "Paris", "Berlin", "Rome"], c: 0 },
    // --- L·ªäCH S·ª¨ & VƒÇN H√ìA (M·ªü r·ªông) ---
    { s: "L·ªãch S·ª≠", q: "Th√†nh C·ªï Loa g·∫Øn li·ªÅn v·ªõi truy·ªÅn thuy·∫øt n√†o?", a: ["An D∆∞∆°ng V∆∞∆°ng v√† M·ªµ Ch√¢u - Tr·ªçng Th·ªßy", "S∆°n Tinh - Th·ªßy Tinh", "Th√°nh Gi√≥ng", "S·ª± t√≠ch H·ªì G∆∞∆°m"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "V·ªã vua n√†o c·ªßa nh√† Nguy·ªÖn ƒë√£ cho x√¢y d·ª±ng Kinh th√†nh Hu·∫ø?", a: ["Gia Long", "Minh M·∫°ng", "T·ª± ƒê·ª©c", "B·∫£o ƒê·∫°i"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Ai l√† ng∆∞·ªùi ƒë√£ t√¨m ra Ch√¢u M·ªπ v√†o nƒÉm 1492?", a: ["Christopher Columbus", "Ferdinand Magellan", "Vasco da Gama", "James Cook"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "Tr·∫≠n Tr√¢n Ch√¢u C·∫£ng (Pearl Harbor) di·ªÖn ra v√†o nƒÉm n√†o?", a: ["1941", "1945", "1939", "1940"], c: 0 },
    { s: "L·ªãch S·ª≠", q: "N·ªØ anh h√πng V√µ Th·ªã S√°u qu√™ ·ªü ƒë√¢u?", a: ["B√† R·ªãa - V≈©ng T√†u", "Qu·∫£ng B√¨nh", "H√† Tƒ©nh", "Qu·∫£ng Nam"], c: 0 },
    { s: "VƒÉn H√≥a", q: "Lo·∫°i h√¨nh ngh·ªá thu·∫≠t 'Nh√£ nh·∫°c cung ƒë√¨nh' l√† di s·∫£n c·ªßa ƒë·ªãa ph∆∞∆°ng n√†o?", a: ["Hu·∫ø", "B·∫Øc Ninh", "H√† N·ªôi", "Nam B·ªô"], c: 0 },
    { s: "VƒÉn H√≥a", q: "L·ªÖ h·ªôi Halloween di·ªÖn ra v√†o ng√†y n√†o h√†ng nƒÉm?", a: ["31/10", "30/10", "01/11", "25/12"], c: 0 },
    { s: "VƒÉn H√≥a", q: "Trang ph·ª•c truy·ªÅn th·ªëng c·ªßa ph·ª• n·ªØ Nh·∫≠t B·∫£n l√† g√¨?", a: ["Kimono", "Hanbok", "S∆∞·ªùn x√°m", "√Åo d√†i"], c: 0 },

    // --- ƒê·ªäA L√ù & DU L·ªäCH ---
    { s: "ƒê·ªãa L√≠", q: "N∆∞·ªõc n√†o c√≥ di·ªán t√≠ch l·ªõn th·ª© 2 th·∫ø gi·ªõi (sau Nga)?", a: ["Canada", "M·ªπ", "Trung Qu·ªëc", "Brazil"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Th·ªß ƒë√¥ c·ªßa ƒê·ª©c l√† th√†nh ph·ªë n√†o?", a: ["Berlin", "Munich", "Hamburg", "Frankfurt"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "V·ªãnh H·∫° Long thu·ªôc t·ªânh n√†o?", a: ["Qu·∫£ng Ninh", "H·∫£i Ph√≤ng", "Th√°i B√¨nh", "Nam ƒê·ªãnh"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "D√£y n√∫i n√†o ƒë∆∞·ª£c coi l√† ranh gi·ªõi t·ª± nhi√™n gi·ªØa Ch√¢u √Å v√† Ch√¢u √Çu?", a: ["D√£y Ural", "D√£y Andes", "D√£y Alps", "D√£y Himalaya"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "'ƒê·∫£o ng·ªçc' l√† t√™n g·ªçi kh√°c c·ªßa h√≤n ƒë·∫£o n√†o ·ªü Vi·ªát Nam?", a: ["Ph√∫ Qu·ªëc", "C√°t B√†", "C√¥n ƒê·∫£o", "L√Ω S∆°n"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "Qu·ªëc gia n√†o ƒë∆∞·ª£c m·ªánh danh l√† 'ƒê·∫•t n∆∞·ªõc m·∫∑t tr·ªùi m·ªçc'?", a: ["Nh·∫≠t B·∫£n", "H√†n Qu·ªëc", "Tri·ªÅu Ti√™n", "Vi·ªát Nam"], c: 0 },
    { s: "ƒê·ªãa L√≠", q: "S√¥ng n√†o ch·∫£y qua th·ªß ƒë√¥ Cairo c·ªßa Ai C·∫≠p?", a: ["S√¥ng Nile", "S√¥ng Amazon", "S√¥ng Mississippi", "S√¥ng D∆∞∆°ng T·ª≠"], c: 0 },

    // --- KHOA H·ªåC & V≈® TR·ª§ ---
    { s: "V≈© Tr·ª•", q: "H√†nh tinh n√†o g·∫ßn M·∫∑t Tr·ªùi nh·∫•t?", a: ["Sao Th·ªßy", "Sao Kim", "Sao H·ªèa", "Tr√°i ƒê·∫•t"], c: 0 },
    { s: "V≈© Tr·ª•", q: "M·∫∑t TrƒÉng quay quanh Tr√°i ƒê·∫•t m·∫•t kho·∫£ng bao l√¢u?", a: ["27.3 ng√†y", "30 ng√†y", "24 gi·ªù", "365 ng√†y"], c: 0 },
    { s: "V≈© Tr·ª•", q: "Thi√™n h√† ch·ª©a H·ªá M·∫∑t Tr·ªùi c·ªßa ch√∫ng ta t√™n l√† g√¨?", a: ["Ng√¢n H√† (Milky Way)", "Ti√™n N·ªØ (Andromeda)", "Triangulum", "Whirlpool"], c: 0 },
    { s: "V·∫≠t L√≠", q: "Ai l√† ng∆∞·ªùi ph√°t hi·ªán ra l·ª±c ƒë·∫©y √Åc-si-m√©t?", a: ["Archimedes", "Newton", "Einstein", "Pascal"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kh√≠ n√†o chi·∫øm t·ªâ l·ªá l·ªõn nh·∫•t trong kh√¥ng kh√≠?", a: ["Nit∆° ", "Oxy ", "Cacbonic", "Argon"], c: 0 },
    { s: "H√≥a H·ªçc", q: "Kim lo·∫°i n√†o l√† kim lo·∫°i c·ª©ng nh·∫•t?", a: ["Crom", "S·∫Øt", "V√†ng", "ƒê·ªìng"], c: 0 },
    { s: "Sinh H·ªçc", q: "ƒê·ªông v·∫≠t n√†o l√† lo√†i ch·∫°y nhanh nh·∫•t tr√™n c·∫°n?", a: ["B√°o G√™-pa (Cheetah)", "S∆∞ t·ª≠", "Ng·ª±a", "Linh d∆∞∆°ng"], c: 0 },
    { s: "Sinh H·ªçc", q: "C√° heo h√¥ h·∫•p b·∫±ng g√¨?", a: ["Ph·ªïi", "Mang", "Da", "Mi·ªáng"], c: 0 },

    // --- C√îNG NGH·ªÜ & GAME & ANIME ---
    { s: "C√¥ng Ngh·ªá", q: "·ª®ng d·ª•ng ChatGPT do c√¥ng ty n√†o ph√°t tri·ªÉn?", a: ["OpenAI", "Google", "Microsoft", "Facebook"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "ƒê·ªãnh d·∫°ng ·∫£nh n√†o h·ªó tr·ª£ ·∫£nh ƒë·ªông (animation)?", a: ["GIF", "JPEG", "PNG", "BMP"], c: 0 },
    { s: "C√¥ng Ngh·ªá", q: "Ng∆∞·ªùi s√°ng l·∫≠p ra m·∫°ng x√£ h·ªôi Facebook l√† ai?", a: ["Mark Zuckerberg", "Elon Musk", "Bill Gates", "Larry Page"], c: 0 },
    { s: "Game", q: "Trong game 'League of Legends' (LMHT), v·ªã t∆∞·ªõng n√†o l√† em trai c·ªßa Yasuo?", a: ["Yone", "Zed", "Lee Sin", "Master Yi"], c: 0 },
    { s: "Game", q: "T·ª±a game sinh t·ªìn b·∫Øn s√∫ng n√†o c√≥ t√™n vi·∫øt t·∫Øt l√† PUBG?", a: ["PlayerUnknown's Battlegrounds", "Public Game", "People Battle Ground", "Pro Ultra Battle Game"], c: 0 },
    { s: "Game", q: "Nh√¢n v·∫≠t ch√≠nh trong game Super Mario l√†m ngh·ªÅ g√¨?", a: ["Th·ª£ s·ª≠a ·ªëng n∆∞·ªõc", "B√°c sƒ©", "C·ª©u h·ªèa", "ƒê·∫ßu b·∫øp"], c: 0 },
    { s: "Anime", q: "Trong 'Doraemon', m√≥n b·∫£o b·ªëi n√†o gi√∫p ƒëi ƒë·∫øn b·∫•t c·ª© ƒë√¢u?", a: ["C√°nh c·ª≠a th·∫ßn k·ª≥", "Chong ch√≥ng tre", "C·ªó m√°y th·ªùi gian", "B√°nh m√¨ chuy·ªÉn ng·ªØ"], c: 0 },
    { s: "Anime", q: "Nh√¢n v·∫≠t ch√≠nh c·ªßa b·ªô truy·ªán 'One Piece' l√† ai?", a: ["Monkey D. Luffy", "Zoro", "Sanji", "Nami"], c: 0 },
    { s: "Anime", q: "Th√°m t·ª≠ l·ª´ng danh Conan t√™n th·∫≠t l√† g√¨?", a: ["Kudo Shinichi", "Hattori Heiji", "Mori Kogoro", "Kaito Kid"], c: 0 },

    // --- GI·∫¢I TR√ç & ƒê·ªúI S·ªêNG ---
    { s: "√Çm Nh·∫°c", q: "Nh·∫°c sƒ© Tr·ªãnh C√¥ng S∆°n c√≥ bi·ªát danh l√† g√¨?", a: ["Ng∆∞·ªùi h√°t rong qua nhi·ªÅu th·∫ø h·ªá", "√îng ho√†ng Bolero", "Ph√π th·ªßy √¢m nh·∫°c", "Ho√†ng t·ª≠ V-Pop"], c: 0 },
    { s: "√Çm Nh·∫°c", q: "Ca sƒ© S∆°n T√πng M-TP qu√™ ·ªü ƒë√¢u?", a: ["Th√°i B√¨nh", "H·∫£i Ph√≤ng", "H√† N·ªôi", "Nam ƒê·ªãnh"], c: 0 },
    { s: "Phim ·∫¢nh", q: "B·ªô phim n√†o c√≥ doanh thu cao nh·∫•t m·ªçi th·ªùi ƒë·∫°i (t√≠nh ƒë·∫øn 2024)?", a: ["Avatar", "Avengers: Endgame", "Titanic", "Star Wars"], c: 0 },
    { s: "ƒê·ªùi S·ªëng", q: "ƒê∆°n v·ªã ti·ªÅn t·ªá chung c·ªßa Ch√¢u √Çu l√† g√¨?", a: ["Euro", "Dollar", "Pound", "Franc"], c: 0 },
    { s: "ƒê·ªùi S·ªëng", q: "Lo·∫°i vitamin n√†o ƒë∆∞·ª£c c∆° th·ªÉ t·ªïng h·ª£p khi ti·∫øp x√∫c v·ªõi √°nh n·∫Øng m·∫∑t tr·ªùi?", a: ["Vitamin D", "Vitamin C", "Vitamin A", "Vitamin E"], c: 0 },
    { s: "ƒê·ªùi S·ªëng", q: "Th∆∞∆°ng hi·ªáu cafe n√†o n·ªïi ti·∫øng v·ªõi bi·ªÉu t∆∞·ª£ng N√†ng ti√™n c√°?", a: ["Starbucks", "Highlands", "Trung Nguy√™n", "The Coffee House"], c: 0 },

    // --- TH·ªÇ THAO ---
    { s: "Th·ªÉ Thao", q: "M√¥n th·ªÉ thao n√†o ƒë∆∞·ª£c g·ªçi l√† 'M√¥n th·ªÉ thao vua'?", a: ["B√≥ng ƒë√°", "B√≥ng r·ªï", "B√≥ng chuy·ªÅn", "Qu·∫ßn v·ª£t"], c: 0 },
    { s: "Th·ªÉ Thao", q: "K·ª≥ Olympic m√πa h√® 2020 (t·ªï ch·ª©c 2021) di·ªÖn ra t·∫°i ƒë√¢u?", a: ["Tokyo (Nh·∫≠t B·∫£n)", "Paris (Ph√°p)", "London (Anh)", "Rio (Brazil)"], c: 0 },
    { s: "Th·ªÉ Thao", q: "C·∫ßu th·ªß Lionel Messi mang qu·ªëc t·ªãch n∆∞·ªõc n√†o?", a: ["Argentina", "B·ªì ƒê√†o Nha", "T√¢y Ban Nha", "Brazil"], c: 0 },
    { s: "Th·ªÉ Thao", q: "ƒê·ªôi tuy·ªÉn b√≥ng ƒë√° n√†o v√¥ ƒë·ªãch AFF Cup 2018?", a: ["Vi·ªát Nam", "Th√°i Lan", "Malaysia", "Indonesia"], c: 0 },
    
    // --- IQ & LOGIC ---
    { s: "IQ", q: "Con g√¨ s√°ng ƒëi b·∫±ng 4 ch√¢n, tr∆∞a ƒëi 2 ch√¢n, t·ªëi ƒëi 3 ch√¢n?", a: ["Con ng∆∞·ªùi", "Con kh·ªâ", "Con ch√≥", "Con ·∫øch"], c: 0 },
    { s: "IQ", q: "C√°i g√¨ thu·ªôc v·ªÅ b·∫°n nh∆∞ng ng∆∞·ªùi kh√°c l·∫°i d√πng nhi·ªÅu h∆°n b·∫°n?", a: ["T√™n c·ªßa b·∫°n", "Ti·ªÅn c·ªßa b·∫°n", "Xe c·ªßa b·∫°n", "Nh√† c·ªßa b·∫°n"], c: 0 },
    { s: "IQ", q: "S·ªë ti·∫øp theo trong d√£y s·ªë: 1, 1, 2, 3, 5, 8, ... l√† s·ªë m·∫•y?", a: ["13", "10", "11", "12"], c: 0 },
    { s: "IQ", q: "M·ªôt nƒÉm c√≥ bao nhi√™u th√°ng c√≥ 28 ng√†y?", a: ["12 th√°ng", "1 th√°ng", "6 th√°ng", "Kh√¥ng c√≥ th√°ng n√†o"], c: 0 },
    { s: "Ti·∫øng Anh", q: "T·ª´ n√†o tr√°i nghƒ©a v·ªõi 'Happy'?", a: ["Sad", "Good", "Fine", "Nice"], c: 0 },
    { s: "Ti·∫øng Anh", q: "T·ª´ 'Library' nghƒ©a l√† g√¨?", a: ["Th∆∞ vi·ªán", "Nh√† s√°ch", "Tr∆∞·ªùng h·ªçc", "Ph√≤ng h·ªçc"], c: 0 }
];

const BOSS_QUESTION_DB = [
    { q: "ƒê·ªânh n√∫i cao nh·∫•t th·∫ø gi·ªõi? (Ten)", a: "Everest" },
    { q: "C√¥ng th·ª©c h√≥a h·ªçc c·ªßa mu·ªëi ƒÉn? ", a: "NaCl" },
    { q: "Vi·ªát Nam c√≥ bao nhi√™u d√¢n t·ªôc anh em? ", a: "54" },
    { q: "B√°c H·ªì ƒë·ªçc tuy√™n ng√¥n ƒë·ªôc l·∫≠p v√†o nƒÉm n√†o? ", a: "1945" },
    { q: "T√™n g·ªçi kh√°c c·ªßa T·∫øt Trung Thu l√† T·∫øt g√¨? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Doan Vien" },
    { q: "Lo√†i hoa bi·ªÉu t∆∞·ª£ng c·ªßa Nh·∫≠t B·∫£n? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Anh Dao" },
    { q: "ƒê·ªôi b√≥ng n√†o v√¥ ƒë·ªãch World Cup 2022? ", a: "Argentina" },
    { q: "ƒêi·ªÅn v√†o ch·ªó tr·ªëng: 'G·∫ßn m·ª±c th√¨ ƒëen, g·∫ßn ƒë√®n th√¨ ...'? ( ƒê√°p √°n kh√¥ng d·∫•u ) ", a: "Sang" },
    { q: "Superman s·ª£ h√≤n ƒë√° m√†u g√¨? ", a: "Xanh la" },
    { q: "T·ªânh n√†o n·∫±m ·ªü c·ª±c B·∫Øc c·ªßa Vi·ªát Nam?( ƒê√°p √°n kh√¥ng d·∫•u ) ", a: "Ha Giang" },
    { q: "T·ªânh n√†o n·∫±m ·ªü c·ª±c Nam c·ªßa Vi·ªát Nam?( ƒê√°p √°n kh√¥ng d·∫•u ) ", a: "Ca Mau" },
    { q: "V·ªã vua n√†o b·∫ª g√£y s·ª´ng tr√¢u? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Dinh Bo Linh" },
    { q: "Ai l√† t√°c gi·∫£ c·ªßa Truy·ªán Ki·ªÅu? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Nguyen Du" },
    { q: "Th√†nh ph·ªë n√†o l√† th√†nh ph·ªë ƒë√°ng s·ªëng nh·∫•t Vi·ªát Nam? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Da Nang" },
    { q: "T√™n th·∫≠t c·ªßa c·∫ßu th·ªß Messi? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Lionel Messi" },
    { q: "Google Chrome l√† tr√¨nh duy·ªát hay c√¥ng c·ª• t√¨m ki·∫øm? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Trinh duyet" },
    { q: "M·ªôt th·∫ø k·ª∑ c√≥ bao nhi√™u nƒÉm? ", a: "100" },
    { q: "Con g√¨ ƒë·∫≠p th√¨ s·ªëng kh√¥ng ƒë·∫≠p th√¨ ch·∫øt? ", a: "Con tim" },
    { q: "S√¥ng n√†o d√†i nh·∫•t th·∫ø gi·ªõi? ", a: "Nile" },
    { q: "Qu·ªëc gia n√†o c√≥ d√¢n s·ªë ƒë√¥ng nh·∫•t th·∫ø gi·ªõi hi·ªán nay? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "An Do" },
    { q: "C·∫ßu th·ªß b√≥ng ƒë√° n√†o ƒë∆∞·ª£c g·ªçi l√† CR7? ", a: "Ronaldo" },
    { q: "Apple s·∫£n xu·∫•t ƒëi·ªán tho·∫°i g√¨?", a: "iPhone" },
    { q: "Youtube l√† n·ªÅn t·∫£ng chia s·∫ª c√°i g√¨? ", a: "Video" },
    { q: "Doremon s·ª£ con g√¨ nh·∫•t? ( ƒê√°p √°n kh√¥ng d·∫•u )", a: "Chuot" },
    { q: "Nobita th·∫ßm th∆∞∆°ng tr·ªôm nh·ªõ ai? ", a: "Shizuka" },
    { q: "M·ªôt trong nh·ªØng m√≥n ƒÉn n√†o m√† ng∆∞·ªùi n∆∞·ªõc ngo√†i s·ª£ nh·∫•t ·ªü Vi·ªát Nam? ( ƒê√°p √°n kh√¥ng d·∫•u, v√¨ t√≠nh nh√¢n vƒÉn)", a: "Hot vit lon" },
    { q: "Th√†nh ph·ªë s∆∞∆°ng m√π ·ªü Anh l√† th√†nh ph·ªë n√†o? ", a: "London" }

];


// --- C·∫§U H√åNH GAME (MAP R·ªòNG) ---
const MAP_W = 6000; 
const MAP_H = 6000; 
let timeLeft = 300; 

const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let cw, ch;

let gameState = 'MENU';
let player = { x: 200, y: MAP_H/2, r: 25, speed: 6, angle: 0, dx: 0, dy: 0 };
let camera = { x: 0, y: 0 };
let keys = {};

let planets = [];
let sun = {}; 
let moon = {};
let asteroids = [];
let stars = [];
let meteors = [];
let particles = [];

let questionQueue = []; 
let activePlanet = null; 
let questionStreak = 0; 
let conqueredCount = 0; 
let phase = 1; 
let timerInterval;

function init() {
    resize();
    window.addEventListener('resize', resize);
    setupInputs();
    requestAnimationFrame(gameLoop);
}

function resize() {
    cw = canvas.width = window.innerWidth;
    ch = canvas.height = window.innerHeight;
}

function setupInputs() {
    window.addEventListener('keydown', e => keys[e.code] = true);
    window.addEventListener('keyup', e => keys[e.code] = false);

    const bindTouch = (cls, code) => {
        const el = document.querySelector(cls);
        el.addEventListener('touchstart', (e) => { e.preventDefault(); keys[code] = true; });
        el.addEventListener('touchend', (e) => { e.preventDefault(); keys[code] = false; });
    };
    bindTouch('.d-up', 'ArrowUp'); bindTouch('.d-down', 'ArrowDown');
    bindTouch('.d-left', 'ArrowLeft'); bindTouch('.d-right', 'ArrowRight');
    
    const boostBtn = document.getElementById('btn-boost');
    boostBtn.addEventListener('touchstart', (e) => { e.preventDefault(); keys['Space'] = true; });
    boostBtn.addEventListener('touchend', (e) => { e.preventDefault(); keys['Space'] = false; });
}

function generateWorld() {
    planets = [];
    const planetData = [
        {n: "Sao Th·ªßy", type: "mercury", r: 75},
        {n: "Sao Kim", type: "venus", r: 85},
        {n: "Tr√°i ƒê·∫•t", type: "earth", r: 85},
        {n: "Sao H·ªèa", type: "mars", r: 75},
        {n: "Sao M·ªôc", type: "jupiter", r: 120},
        {n: "Sao Th·ªï", type: "saturn", r: 100, ring: true},
        {n: "Sao T.V∆∞∆°ng", type: "uranus", r: 85},
        {n: "Sao H.V∆∞∆°ng", type: "neptune", r: 80}
    ];

    for(let i=0; i<8; i++) {
        let px, py, safe;
        let attempts = 0;
        do {
            safe = true;
            attempts++;
            // T·∫†O H√ÄNH TINH ·ªû V·ªä TR√ç NG·∫™U NHI√äN TR√äN MAP R·ªòNG
            px = 500 + Math.random() * (MAP_W - 1000);
            py = 500 + Math.random() * (MAP_H - 1000);
            
            // CHECK VA CH·∫†M V·ªöI NG∆Ø·ªúI CH∆†I
            if(Math.hypot(px - 200, py - MAP_H/2) < 500) safe = false;
            
            // CHECK KHO·∫¢NG C√ÅCH GI·ªÆA C√ÅC H√ÄNH TINH (C√ÅCH XA NHAU)
            for(let p of planets) {
                if(Math.hypot(px - p.x, py - p.y) < 1500) safe = false;
            }

            // TR√ÅNH XA KHU V·ª∞C TRUNG T√ÇM (ƒê·ªÇ D√ÄNH CHO BOSS)
            if(Math.hypot(px - MAP_W/2, py - MAP_H/2) < 800) safe = false;

            // N·∫æU TH·ª¨ QU√Å 100 L·∫¶N KH√îNG ƒê∆Ø·ª¢C TH√å GI·∫¢M KHO·∫¢NG C√ÅCH AN TO√ÄN ƒê·ªÇ KH√îNG B·ªä TREO
            if(attempts > 100) break;

        } while(!safe);

        planets.push({
            x: px, y: py, ...planetData[i], 
            conquered: false, req: 5, 
            angle: 0, selfAngle: Math.random() * Math.PI * 2 
        });
    }

    sun = { x: MAP_W/2, y: MAP_H/2, r: 150, n: "M·∫∑t Tr·ªùi", type: "sun", active: false, conquered: false, req: 5, selfAngle: 0 };
    moon = { x: MAP_W/2, y: MAP_H/2, r: 120, n: "M·∫∑t TrƒÉng", type: "moon", active: false, conquered: false, req: 5, selfAngle: 0 };

    asteroids = [];
    // --- TƒÇNG S·ªê L∆Ø·ª¢NG THI√äN TH·∫†CH L√äN 500 ---
    for(let i=0; i<500; i++) {
        asteroids.push({
            x: Math.random()*MAP_W, y: Math.random()*MAP_H,
            r: 20 + Math.random()*30,
            dx: (Math.random()-0.5)*1.5, dy: (Math.random()-0.5)*1.5,
            rot: Math.random(), rSpeed: (Math.random()-0.5)*0.05
        });
    }

    stars = [];
    for(let i=0; i<2000; i++) {
        stars.push({x: Math.random()*MAP_W, y: Math.random()*MAP_H, s: Math.random()*3, a: Math.random(), da: (Math.random()-0.5)*0.03});
    }
}

function startGame() {
    SoundManager.init(); // K√çCH HO·∫†T √ÇM THANH
    document.getElementById('start-screen').classList.remove('active');
    generateWorld();
    conqueredCount = 0; phase = 1; timeLeft = 300;
    player.x = 200; player.y = MAP_H/2;
    gameState = 'PLAY';
    
    if(timerInterval) clearInterval(timerInterval);
    timerInterval = setInterval(() => {
        if(gameState === 'PLAY') {
            timeLeft--;
            updateTimerUI();
            if(timeLeft <= 0) endGame(false);
        }
    }, 1000);
    updateHUD();
}

function updateTimerUI() {
    let m = Math.floor(timeLeft / 60);
    let s = timeLeft % 60;
    let timeStr = `${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
    const el = document.getElementById('timer');
    el.innerText = timeStr;
    if(timeLeft < 60) el.classList.add('critical');
    else el.classList.remove('critical');
}

function gameLoop() {
    if(gameState === 'PLAY') update();
    draw();
    requestAnimationFrame(gameLoop);
}

function update() {
    let speed = keys['Space'] ? 12 : 6; 
    player.dx = 0; player.dy = 0;

    if (keys['ArrowUp']) player.dy = -speed;
    if (keys['ArrowDown']) player.dy = speed;
    if (keys['ArrowLeft']) player.dx = -speed;
    if (keys['ArrowRight']) player.dx = speed;

    player.x += player.dx; player.y += player.dy;
    player.x = Math.max(player.r, Math.min(MAP_W - player.r, player.x));
    player.y = Math.max(player.r, Math.min(MAP_H - player.r, player.y));

    camera.x += (player.x - cw/2 - camera.x) * 0.1;
    camera.y += (player.y - ch/2 - camera.y) * 0.1;
    camera.x = Math.max(0, Math.min(MAP_W - cw, camera.x));
    camera.y = Math.max(0, Math.min(MAP_H - ch, camera.y));

    if (player.dx !== 0 || player.dy !== 0) {
        player.angle = Math.atan2(player.dy, player.dx);
        spawnThrust();
        if(Math.random() < 0.2) SoundManager.playThrust(); // √ÇM THANH BAY
    }

    for(let s of stars) {
        s.a += s.da;
        if(s.a > 1 || s.a < 0.2) s.da = -s.da;
    }
    if(Math.random() < 0.03) meteors.push({x: Math.random()*MAP_W, y: Math.random()*MAP_H/2, vx: -12-Math.random()*15, vy: 6+Math.random()*8, life: 1.0});
    for(let i=meteors.length-1; i>=0; i--) {
        let m = meteors[i]; m.x += m.vx; m.y += m.vy; m.life -= 0.02;
        if(m.life <= 0) meteors.splice(i,1);
    }

    for(let p of planets) p.selfAngle += 0.005;
    sun.selfAngle += 0.002; moon.selfAngle += 0.005;

    if(phase === 1) {
        for(let p of planets) {
            if(!p.conquered && checkCollision(player, p)) { startQuiz(p); return; }
        }
        if(conqueredCount >= 8) startPhase2();
    } else {
        let time = Date.now() / 1500;
        moon.x = MAP_W/2 + Math.cos(time) * 400; moon.y = MAP_H/2 + Math.sin(time) * 400;
        
        planets.forEach((p, idx) => {
            let r = 700 + idx * 80;
            p.x = MAP_W/2 + Math.cos(time * 0.5 + idx) * r;
            p.y = MAP_H/2 + Math.sin(time * 0.5 + idx) * r;
        });

        if(!sun.conquered && checkCollision(player, sun)) startQuiz(sun);
        if(!moon.conquered && checkCollision(player, moon)) startQuiz(moon);
        if(sun.conquered && moon.conquered) endGame(true);
    }

    for(let a of asteroids) {
        a.x += a.dx; a.y += a.dy; a.rot += a.rSpeed;
        if(a.x < 0) a.x = MAP_W; if(a.x > MAP_W) a.x = 0;
        if(a.y < 0) a.y = MAP_H; if(a.y > MAP_H) a.y = 0;
        if(checkCollision(player, a)) {
            let ang = Math.atan2(player.y - a.y, player.x - a.x);
            player.x += Math.cos(ang) * 30; player.y += Math.sin(ang) * 30;
            spawnExplosion(player.x, player.y, 10, '#fff');
            SoundManager.playExplosion(); // √ÇM THANH VA CH·∫†M
        }
    }

    for(let i=particles.length-1; i>=0; i--) {
        let p = particles[i]; p.x += p.vx; p.y += p.vy; p.l -= 0.05;
        if(p.l <= 0) particles.splice(i, 1);
    }
}

function checkCollision(c1, c2) { return Math.hypot(c1.x - c2.x, c1.y - c2.y) < c1.r + c2.r; }

function spawnThrust() {
    let bx = player.x - Math.cos(player.angle) * 30;
    let by = player.y - Math.sin(player.angle) * 30;
    particles.push({x: bx, y: by, vx: (Math.random()-0.5)*2, vy: (Math.random()-0.5)*2, l: 1, c: '#00f3ff'});
}

function spawnExplosion(x, y, count, color) {
    for(let i=0; i<count; i++) particles.push({x: x, y: y, vx: (Math.random()-0.5)*12, vy: (Math.random()-0.5)*12, l: 1, c: color});
}

function startQuiz(target) {
    gameState = 'MODAL';
    activePlanet = target;
    questionStreak = 0;
    questionQueue = [];

    let sourceDB = (target.type === 'sun' || target.type === 'moon') ? BOSS_QUESTION_DB : QUESTION_DB;
    
    let tempDB = [...sourceDB].sort(() => 0.5 - Math.random());
    for(let i=0; i<target.req; i++) questionQueue.push(tempDB[i]);

    document.getElementById('quiz-modal').classList.add('active');
    document.getElementById('q-planet-name').innerText = target.n;
    showNextQuestion();
}

function showNextQuestion() {
    if(questionStreak >= activePlanet.req) { finishPlanet(); return; }
    let q = questionQueue[questionStreak];
    document.getElementById('q-progress').innerText = questionStreak + 1;
    document.getElementById('q-total').innerText = activePlanet.req;
    document.getElementById('q-content').innerHTML = `<span style="background:#444; padding:2px 8px; border-radius:4px; font-size:20px;">${q.s || 'C√¢u H·ªèi'}</span><br>${q.q}`;
    
    const grid = document.getElementById('q-options');
    grid.innerHTML = '';
    
    if(activePlanet.type === 'sun' || activePlanet.type === 'moon') {
        let input = document.createElement('input');
        input.type = 'text';
        input.className = 'ans-input';
        input.id = 'boss-input';
        input.placeholder = 'Nh·∫≠p ƒë√°p √°n...';
        
        let btn = document.createElement('button');
        btn.className = 'ans-btn submit-btn';
        btn.innerText = 'TR·∫¢ L·ªúI';
        btn.onclick = () => checkBossAnswer(q.a, btn);

        input.addEventListener("keypress", function(event) {
            if (event.key === "Enter") btn.click();
        });

        grid.appendChild(input);
        grid.appendChild(btn);
        setTimeout(() => input.focus(), 100);

    } else {
        let indices = q.a.map((_, i) => i);
        indices.sort(() => Math.random() - 0.5);

        indices.forEach(idx => {
            let btn = document.createElement('button');
            btn.className = 'ans-btn';
            btn.innerText = q.a[idx];
            btn.dataset.id = idx;
            btn.onclick = () => checkAnswer(idx, q.c, btn);
            grid.appendChild(btn);
        });
    }
}

function checkBossAnswer(correctAnswers, btn) {
    let inputVal = document.getElementById('boss-input').value.trim().toLowerCase();
    
    // X·ª≠ l√Ω ƒë√°p √°n: Chuy·ªÉn v·ªÅ ch·ªØ th∆∞·ªùng ƒë·ªÉ so s√°nh kh√¥ng ph√¢n bi·ªát hoa th∆∞·ªùng
    let isCorrect = false;
    // Ki·ªÉm tra n·∫øu correctAnswers l√† m·∫£ng hay chu·ªói
    if (Array.isArray(correctAnswers)) {
         isCorrect = correctAnswers.map(a => a.toLowerCase()).includes(inputVal);
    } else {
         isCorrect = correctAnswers.toLowerCase() === inputVal;
    }

    if(isCorrect) {
        SoundManager.playCorrect(); // √ÇM THANH ƒê√öNG
        btn.style.background = 'var(--success)';
        btn.innerText = 'CH√çNH X√ÅC!';
        questionStreak++;
        setTimeout(showNextQuestion, 1000);
    } else {
        SoundManager.playWrong(); // √ÇM THANH SAI
        btn.style.background = 'var(--danger)';
        btn.innerText = 'SAI R·ªíI!';
        timeLeft -= 10; updateTimerUI();
        
        setTimeout(() => {
            let newQ = BOSS_QUESTION_DB[Math.floor(Math.random() * BOSS_QUESTION_DB.length)];
            questionQueue[questionStreak] = newQ;
            showNextQuestion();
        }, 1200);
    }
}

function checkAnswer(selected, correct, btn) {
    let btns = document.querySelectorAll('.ans-btn');
    btns.forEach(b => b.disabled = true);
    if(selected === correct) {
        SoundManager.playCorrect(); // √ÇM THANH ƒê√öNG
        btn.style.background = 'var(--success)';
        questionStreak++;
        setTimeout(showNextQuestion, 800);
    } else {
        SoundManager.playWrong(); // √ÇM THANH SAI
        btn.style.background = 'var(--danger)';
        btns.forEach(b => {
            if(parseInt(b.dataset.id) === correct) b.style.background = 'var(--success)';
        });
        timeLeft -= 10; updateTimerUI();
        setTimeout(() => {
            let newQ = QUESTION_DB[Math.floor(Math.random() * QUESTION_DB.length)];
            questionQueue[questionStreak] = newQ;
            showNextQuestion();
        }, 1200);
    }
}

function finishPlanet() {
    document.getElementById('quiz-modal').classList.remove('active');
    gameState = 'PLAY';
    activePlanet.conquered = true;
    player.x += Math.cos(player.angle + Math.PI) * 150;
    player.y += Math.sin(player.angle + Math.PI) * 150;
    spawnExplosion(activePlanet.x, activePlanet.y, 50, '#fff');
    if(phase === 1) { conqueredCount++; updateHUD(); }
}

function startPhase2() {
    phase = 2; sun.active = true; moon.active = true;
    player.x = 200; player.y = 200;
    
    SoundManager.playBossWarning(); // √ÇM THANH BOSS

    let notif = document.getElementById('boss-notification');
    notif.style.display = 'block';
    
    setTimeout(() => {
        notif.style.display = 'none';
    }, 4000);
}

function endGame(win) {
    gameState = 'OVER'; clearInterval(timerInterval);
    document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
    let endScreen = document.getElementById('end-screen');
    if(win) {
        document.getElementById('end-title').innerText = "V√î ƒê·ªäCH!";
        document.getElementById('end-title').style.color = "var(--success)";
        document.getElementById('end-msg').innerText = "V≈© tr·ª• ƒë√£ thu·ªôc v·ªÅ b·∫°n!";
    } else {
        document.getElementById('end-title').innerText = "H·∫æT GI·ªú!";
        document.getElementById('end-title').style.color = "var(--danger)";
        document.getElementById('end-msg').innerText = "H√£y th·ª≠ l·∫°i nh√©!";
    }
    endScreen.classList.add('active');
}

function updateHUD() { document.getElementById('conquered-count').innerText = conqueredCount; }

function draw() {
    let dx = -camera.x; let dy = -camera.y;
    ctx.fillStyle = 'var(--bg-color)'; ctx.fillRect(0, 0, cw, ch);
    ctx.save(); ctx.translate(dx, dy);

    for(let s of stars) {
        ctx.fillStyle = '#fff'; ctx.globalAlpha = s.a;
        ctx.beginPath(); ctx.arc(s.x, s.y, s.s, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1;

    ctx.strokeStyle = '#fff'; ctx.lineWidth = 2;
    for(let m of meteors) {
        ctx.globalAlpha = m.life;
        ctx.beginPath(); ctx.moveTo(m.x, m.y); ctx.lineTo(m.x - m.vx, m.y - m.vy); ctx.stroke();
    }
    ctx.globalAlpha = 1;

    if(phase === 2) {
        ctx.strokeStyle = 'rgba(255,255,255,0.1)'; ctx.lineWidth = 2;
        ctx.beginPath(); ctx.arc(MAP_W/2, MAP_H/2, 300, 0, Math.PI*2); ctx.stroke();
        drawVisualPlanet(sun);
        drawVisualPlanet(moon);
    }

    for(let p of planets) drawVisualPlanet(p);

    for(let a of asteroids) {
        ctx.save(); ctx.translate(a.x, a.y); ctx.rotate(a.rot);
        ctx.fillStyle = '#7f8c8d'; ctx.shadowBlur = 10; ctx.shadowColor = '#000';
        ctx.beginPath(); ctx.moveTo(a.r, 0);
        for(let i=1; i<7; i++) {
            let angle = i * Math.PI * 2 / 7;
            let r = a.r * (0.8 + Math.random()*0.3);
            ctx.lineTo(Math.cos(angle)*r, Math.sin(angle)*r);
        }
        ctx.closePath(); ctx.fill();
        ctx.restore();
    }

    for(let p of particles) {
        ctx.globalAlpha = p.l; ctx.fillStyle = p.c;
        ctx.beginPath(); ctx.arc(p.x, p.y, 4, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1; ctx.shadowBlur = 0;

    // SHIP MODEL (Detailed)
    ctx.save();
    ctx.translate(player.x, player.y);
    ctx.rotate(player.angle);
    ctx.shadowBlur = 15; ctx.shadowColor = '#00f3ff';
    ctx.fillStyle = '#e74c3c'; 
    ctx.beginPath(); ctx.moveTo(-15, 20); ctx.lineTo(-25, 35); ctx.lineTo(10, 15); ctx.fill();
    ctx.beginPath(); ctx.moveTo(-15, -20); ctx.lineTo(-25, -35); ctx.lineTo(10, -15); ctx.fill();
    ctx.fillStyle = '#ecf0f1'; ctx.beginPath(); ctx.ellipse(5, 0, 35, 15, 0, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle = '#3498db'; ctx.beginPath(); ctx.arc(10, -5, 10, 0, Math.PI*2); ctx.fill(); 
    if(keys['ArrowUp'] || keys['ArrowDown'] || keys['ArrowLeft'] || keys['ArrowRight']) {
        ctx.fillStyle = '#f1c40f';
        ctx.beginPath(); ctx.moveTo(-30, -8); ctx.lineTo(-50 - Math.random()*20, 0); ctx.lineTo(-30, 8); ctx.fill();
    }
    ctx.restore();

    ctx.restore();
}

function drawVisualPlanet(p) {
    if(p.conquered) ctx.globalAlpha = 0.5;
    
    ctx.save();
    ctx.translate(p.x, p.y);
    
    ctx.shadowBlur = 0;
    ctx.fillStyle = '#fff'; ctx.font = "bold 24px VT323"; ctx.textAlign = "center";
    ctx.fillText(p.n, 0, p.r + 35);
    if(p.conquered) {
        ctx.fillStyle = '#2ecc71'; ctx.font = '30px VT323';
        ctx.fillText("‚úì", 0, 0);
    }

    ctx.rotate(p.selfAngle);

    switch(p.type) {
        case 'mercury': drawGenericPlanet(p.r, ['#7f8c8d', '#95a5a6', '#bdc3c7'], true); break;
        case 'venus': drawAtmospherePlanet(p.r, '#e67e22', '#f1c40f', '#d35400'); break;
        case 'earth': drawEarth(p.r); break;
        case 'mars': drawMars(p.r); break;
        case 'jupiter': drawJupiter(p.r); break;
        case 'saturn': drawSaturn(p.r); break;
        case 'uranus': drawGenericPlanet(p.r, ['#AEEEEE', '#81D8D0'], false); break;
        case 'neptune': drawAtmospherePlanet(p.r, '#2980b9', '#3498db', '#ecf0f1'); break;
        case 'sun': drawSun(p.r); break;
        case 'moon': drawMoon(p.r); break;
        default: 
            let grad = ctx.createRadialGradient(-p.r/3, -p.r/3, 0, 0, 0, p.r);
            grad.addColorStop(0, '#aaa'); grad.addColorStop(1, '#333');
            ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, p.r, 0, Math.PI*2); ctx.fill();
    }

    ctx.restore();
    ctx.globalAlpha = 1;
}

function drawGenericPlanet(r, colors, hasCraters) {
    let grad = ctx.createRadialGradient(-r/3, -r/3, r/10, 0, 0, r);
    grad.addColorStop(0, colors[0]); grad.addColorStop(0.5, colors[1]); grad.addColorStop(1, '#2c3e50');
    ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI*2); ctx.fill();
    if(hasCraters) {
        ctx.save(); ctx.clip();
        for(let i=0; i<15; i++) {
            let cr = Math.random()*r/4; let cx = (Math.random()-0.5)*r*1.8; let cy = (Math.random()-0.5)*r*1.8;
            ctx.fillStyle = 'rgba(0,0,0,0.2)'; ctx.beginPath(); ctx.arc(cx, cy, cr, 0, Math.PI*2); ctx.fill();
        }
        ctx.restore();
    }
}

function drawAtmospherePlanet(r, base, light, dark) {
    let grad = ctx.createRadialGradient(-r/3, -r/3, 0, 0, 0, r);
    grad.addColorStop(0, light); grad.addColorStop(0.7, base); grad.addColorStop(1, dark);
    ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI*2); ctx.fill();
    ctx.save(); ctx.clip();
    ctx.globalAlpha = 0.3; ctx.fillStyle = '#fff';
    for(let i=0; i<5; i++) {
        ctx.beginPath(); ctx.ellipse(0, (Math.random()-0.5)*r, r*1.2, r/5, Math.random()*0.5, 0, Math.PI*2); ctx.fill();
    }
    ctx.restore();
}

function drawEarth(r) {
    let grad = ctx.createRadialGradient(-r/3, -r/3, 0, 0, 0, r);
    grad.addColorStop(0, '#3498db'); grad.addColorStop(1, '#2980b9');
    ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI*2); ctx.fill();
    ctx.save(); ctx.clip();
    ctx.fillStyle = '#27ae60';
    ctx.beginPath(); ctx.arc(-r/2, -r/4, r/2, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(r/3, r/5, r/1.8, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(r/2, -r/2, r/3, 0, Math.PI*2); ctx.fill();
    ctx.globalAlpha = 0.5; ctx.fillStyle = '#fff';
    for(let i=0; i<8; i++) {
        ctx.beginPath(); ctx.ellipse((Math.random()-0.5)*r*1.5, (Math.random()-0.5)*r*1.5, r/3, r/6, Math.random(), 0, Math.PI*2); ctx.fill();
    }
    ctx.restore();
}

function drawMars(r) {
    drawGenericPlanet(r, ['#e67e22', '#d35400'], true);
    ctx.save(); ctx.clip();
    ctx.fillStyle = '#fff';
    ctx.beginPath(); ctx.arc(0, -r + r/5, r/3, 0, Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(0, r - r/5, r/3, 0, Math.PI*2); ctx.fill();
    ctx.restore();
}

function drawJupiter(r) {
    let grad = ctx.createRadialGradient(-r/3, -r/3, 0, 0, 0, r);
    grad.addColorStop(0, '#f39c12'); grad.addColorStop(1, '#c0392b');
    ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI*2); ctx.fill();
    ctx.save(); ctx.clip();
    let colors = ['rgba(165, 105, 79, 0.6)', 'rgba(230, 180, 140, 0.5)', 'rgba(120, 60, 40, 0.7)'];
    for(let i=-4; i<5; i++) {
        ctx.fillStyle = colors[Math.abs(i)%3];
        ctx.fillRect(-r, i*(r/5), r*2, r/10 + Math.random()*r/10);
    }
    ctx.fillStyle = 'rgba(150, 50, 30, 0.8)';
    ctx.beginPath(); ctx.ellipse(r/3, r/4, r/4, r/6, 0.2, 0, Math.PI*2); ctx.fill();
    ctx.restore();
}

function drawSaturn(r) {
    ctx.save();
    ctx.rotate(Math.PI / 6);
    ctx.save();
    ctx.scale(1, 0.3);
    ctx.beginPath(); ctx.arc(0, 0, r * 2.2, 0, Math.PI*2);
    let ringGrad = ctx.createRadialGradient(0,0,r*1.2, 0,0,r*2.2);
    ringGrad.addColorStop(0, 'rgba(180, 160, 130, 0)');
    ringGrad.addColorStop(0.1, 'rgba(180, 160, 130, 0.8)');
    ringGrad.addColorStop(0.5, 'rgba(220, 200, 170, 0.9)');
    ringGrad.addColorStop(1, 'rgba(180, 160, 130, 0)');
    ctx.fillStyle = ringGrad; ctx.fill();
    ctx.beginPath(); ctx.arc(0, 0, r * 1.7, 0, Math.PI*2);
    ctx.lineWidth = r/15; ctx.strokeStyle = 'rgba(0,0,0,0.5)'; ctx.stroke();
    ctx.restore();
    drawGenericPlanet(r, ['#e0cda5', '#b5a17a'], false);
    ctx.save();
    ctx.beginPath(); ctx.rect(-r*2.5, 0, r*5, r*3); ctx.clip();
    ctx.scale(1, 0.3);
    ctx.beginPath(); ctx.arc(0, 0, r * 2.2, 0, Math.PI*2);
    ctx.fillStyle = ringGrad; ctx.fill();
    ctx.beginPath(); ctx.arc(0, 0, r * 1.7, 0, Math.PI*2);
    ctx.lineWidth = r/15; ctx.strokeStyle = 'rgba(0,0,0,0.5)'; ctx.stroke();
    ctx.restore();
    ctx.restore();
}

function drawSun(r) {
    ctx.shadowBlur = 50; ctx.shadowColor = '#f1c40f';
    let grad = ctx.createRadialGradient(0, 0, r*0.2, 0, 0, r);
    grad.addColorStop(0, '#fff'); grad.addColorStop(0.2, '#f1c40f'); grad.addColorStop(1, '#e67e22');
    ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI*2); ctx.fill();
    ctx.shadowBlur = 0;
}

function drawMoon(r) {
    ctx.shadowBlur = 30; ctx.shadowColor = '#fff';
    drawGenericPlanet(r, ['#ecf0f1', '#bdc3c7'], true);
    ctx.shadowBlur = 0;
}

init();
</script>
</body>
</html>